# DevLog Diff Helper

**DevLog Diff Helper** 是一个专为程序员、AI 辅助开发者、每日开发日志（DevLog）工作流打造的 VS Code 扩展。  
它能够自动收集「今日未提交的真实 Git diff」，并以 **极度 Codex 友好、结构化的格式** 输出到剪贴板，帮助你快速生成开发总结、长期记忆输入、与 AI 的高效协作。

---

# 🚀 功能特性

### ✅ 一键复制「今日真实改动」
点击右下角状态栏按钮 `$(git-commit) Copy Diff` 即可自动：
- 检测今天被修改过的文件  
- 检测这些文件的 Git 未提交内容  
- 按文件分组输出真实 diff  
- 自动复制到剪贴板  

完全适合用于每日总结、AI 代码回顾、个人 DevLog。

---

### ✅ Codex / GPT 最佳格式输出
每个文件的 diff 以结构化方式呈现：

```
==================== FILE: src/index.ts ====================
<diff 内容>
================ END OF FILE: src/index.ts ================
```

让 AI 能够：
- 按文件准确总结  
- 看清模块结构  
- 快速看到当天代码变化  
- 准确学习你的编码习惯  

非常适合搭配 Codex / GPT 自动生成 DevLog。

---

### ✅ 今日修改文件摘要
扩展会自动生成文件列表，帮助 AI 理解整体工作量：

```
# 今日修改文件（3 个）
- src/index.ts
- src/utils/time.ts

# 以下为按文件分组的详细 diff：
```

---

### ✅ 错误提示节流（不会弹窗轰炸）
多次运行出错时会自动抑制重复提示，让体验更清爽。

---

### ✅ 500 KB 安全截断
如果 diff 太大（超过 500KB），扩展会自动截断并提示，  
避免 AI 因内容过长而失败。

---

# 📦 安装与使用

### 1. 打开 VS Code  
### 2. 安装扩展（或从 VSIX 安装）
### 3. 打开任意 Git 项目  
### 4. 点击右下角按钮：
```
$(git-commit) Copy Diff
```

你的今日 diff 会被复制到剪贴板，可直接粘贴给 AI。

---

# 🛠 需求

必须：
- 已安装 **Git**
- 当前目录是 Git 仓库

可选：
- 推荐在 AI 开发工作流中使用（Codex / GPT）

---

# ⚙️ 扩展设置（未来版本）
当前版本无可配置项，所有行为开箱即用。  
未来会加入：
- 是否启用 diff 截断  
- 是否输出 Markdown diff  
- 自定义格式模板

---

# 🧩 已知问题

- Windows 下某些特殊字符路径可能导致 diff 命令异常（未来将采用 `execFile` 解决）
- 对极度庞大的项目，多文件 diff 可能稍有延迟

---

# 📝 发布日志

### 0.1.0  
- 初始版本  
- 支持多文件 diff  
- Codex 优化格式  
- 错误提示节流  
- 500KB 自动截断  

---

# 🤝 贡献

欢迎提交 Issue 或 PR，让这个扩展更强大！

---

# ❤️ 你的 DevLog 助手

无论你用它来：
- 每日代码总结  
- 学习 AI 编程  
- 分析自己的一天  
- 建立长期记忆体系  

DevLog Diff Helper 都会成为你最稳固的工具之一。

**Enjoy coding, enjoy logging!**
